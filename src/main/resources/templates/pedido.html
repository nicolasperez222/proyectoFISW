<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestión de Pedidos</title>
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>

    <div class="container">
        <h1>Gestión de Pedidos</h1>
        <form id="pedidoForm">
            <label for="mesa">Mesa:</label>
            <input type="number" id="mesa" required placeholder="Número de mesa">

            <label for="fecha">Fecha y hora:</label>
            <input type="datetime-local" id="fecha" required>

            <div class="form-row">
                <label for="buscarSimple">Buscar Producto Simple</label>
                <input type="text" id="buscarSimple" placeholder="Buscar por nombre..." oninput="buscarSimplePorNombre()">
                <ul id="resultadosBusqueda" style="display:none; list-style-type: none; padding: 0;"></ul>
            </div>
            <div class="form-row">
                <label for="buscarCompuesto">Buscar Producto Compuesto</label>
                <input type="text" id="buscarCompuesto" placeholder="Buscar por nombre..." oninput="buscarCompuestoPorNombre()">
                <ul id="resultadosBusquedaCompuesto" style="display:none; list-style-type: none; padding: 0;"></ul>
            </div>
        </form>
    </div>

    <div class="container">
        <h2>Productos en el Pedido</h2>
        <ul id="productosPedido"></ul>
        <div id="subproductosContainer">
            <h3>Productos Simples</h3>
            <ul id="listaSimple"> </ul>
        </div>
        <div id="subproductosContainer">
            <h3>Productos Compuestos</h3>
            <ul id="listaCompuesto"> </ul>
        </div>
    </div>
    

    <!-- Modal para productos simples -->
    <div class="modal" id="confirmacionSimple" style="display:none;">
        <div class="modal-content">
            <h3>Confirmar Producto Simple</h3>
            <div class="form-row">
                <label for="productoSimple">Producto</label>
                <input type="text" id="productoSimple" placeholder="">
            </div>
            <div class="form-row">
                <label for="cantidadSimple">Cantidad</label>
                <input type="number" id="cantidadSimple" min="1" value="1">
            </div>
            <br>
            <button id="confirmarSimpleBtn" onclick="confirmarSimple()">Confirmar</button>
            <button id="cerrarModalSimple" onclick="cancelarSimple()">Cancelar</button>
        </div>
    </div>

    <!-- Modal para productos compuestos -->
    <div class="modal" id="confirmacionCompuesto" style="display:none;">
        <!-- Formulario para Producto Compuesto -->
        <form id="createProductFormCompuesto" class="formulario-producto">
            <h2>Producto Compuesto</h2>
        
            <!-- Campos para el Producto Compuesto -->
            <div class="form-row">
                <label for="nombreCompuesto">Nombre del Producto</label>
                <input type="text" id="nombreCompuesto" name="nombreCompuesto" required>
            </div>

            <div class="form-row">
                <label for="precioBase">Precio Base</label>
                <input type="number" id="precioBase" name="precioBase" required>
            </div>

            <br>
            <div id="subproductosContainer">
                <h3>Subproductos</h3>
                <ul id="listaSubproductos"> </ul>
            </div>
            <div id="formSubproducto" style="display:none;">
                <h3>Agregar Subproducto</h3>
    
                <div class="form-row">
                    <label for="buscarSubproducto">Buscar Subproducto</label>
                    <input type="text" id="buscarSubproducto" placeholder="Buscar por nombre..." oninput="buscarSubproductoPorNombre()">
                    <ul id="resultadosBusquedaA" style="display:none; list-style-type: none; padding: 0;"></ul>
                </div>
    
                <div class="form-row">
                    <label for="cantidadSubproducto">Cantidad</label>
                    <input type="number" id="cantidadSubproducto" min="1" value="1">
                </div>
                <br>
                <div class="form-actions">
                    <button type="button" class="btn btn-primary" onclick="agregarSubproducto()">Confirmar</button>
                    <button type="button" class="btn btn-secondary" onclick="cancelarAgregarSubproducto()">Cancelar</button>
                </div>
                <br>
            </div>
            <!-- Botón para Agregar Subproducto -->
            <div class="form-row">
                <button type="button" class="btn btn-primary" onclick="mostrarFormularioSubproducto()">Agregar Subproducto</button>
            </div>
            <br>
            <div class="form-actions">
                <button class="btn btn-primary" type="button" onclick="crearProductoCompuesto()">Crear Producto Compuesto</button>
                <!-- Botones para Actualizar y Cancelar -->
                <button type="button" class="btn btn-warning" id="actualizarCompuesto" onclick="actualizarProductoCompuesto()" style="display:none;">Actualizar Producto</button>
                <button type="button" class="btn btn-danger" id="cancelarEdicionCompuesto" onclick="cancelarEdicion()" style="display:none;">Cancelar</button>
            </div>
        </form>
    </div>

    <script src="/js/pedido.js"></script>
</body>
</html>
